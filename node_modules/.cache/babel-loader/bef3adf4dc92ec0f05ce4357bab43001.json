{"ast":null,"code":"function wrap(callback, n) {\n  let t = 0;\n  return () => {\n    if (t++ >= n) {\n      t = 0;\n      callback();\n    }\n  };\n}\n\nexport default class Ticker {\n  constructor(app) {\n    this.app = app;\n    this.timer = null;\n    this.callbacks = [];\n  }\n\n  attach(callback) {\n    let n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    let useSafe = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    let thisArg = arguments.length > 3 ? arguments[3] : undefined;\n\n    if (thisArg) {\n      callback = callback.bind(thisArg);\n    }\n\n    if (useSafe) {\n      callback = this.app.safe(callback);\n    }\n\n    this.callbacks.unshift(n ? wrap(callback, n) : callback) - 1;\n  }\n\n  start() {\n    if (this.timer === null) {\n      this.timer = setInterval(() => this.callbacks.forEach(cb => {\n        if (cb) cb();\n      }), 30);\n    }\n  }\n\n  stop() {\n    if (this.timer !== null) {\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/kushthakker/Downloads/imagecompare-both/node_modules/@openreplay/tracker/lib/app/ticker.js"],"names":["wrap","callback","n","t","Ticker","constructor","app","timer","callbacks","attach","useSafe","thisArg","bind","safe","unshift","start","setInterval","forEach","cb","stop","clearInterval"],"mappings":"AAAA,SAASA,IAAT,CAAcC,QAAd,EAAwBC,CAAxB,EAA2B;AACvB,MAAIC,CAAC,GAAG,CAAR;AACA,SAAO,MAAM;AACT,QAAIA,CAAC,MAAMD,CAAX,EAAc;AACVC,MAAAA,CAAC,GAAG,CAAJ;AACAF,MAAAA,QAAQ;AACX;AACJ,GALD;AAMH;;AACD,eAAe,MAAMG,MAAN,CAAa;AACxBC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACH;;AACDC,EAAAA,MAAM,CAACR,QAAD,EAA2C;AAAA,QAAhCC,CAAgC,uEAA5B,CAA4B;AAAA,QAAzBQ,OAAyB,uEAAf,IAAe;AAAA,QAATC,OAAS;;AAC7C,QAAIA,OAAJ,EAAa;AACTV,MAAAA,QAAQ,GAAGA,QAAQ,CAACW,IAAT,CAAcD,OAAd,CAAX;AACH;;AACD,QAAID,OAAJ,EAAa;AACTT,MAAAA,QAAQ,GAAG,KAAKK,GAAL,CAASO,IAAT,CAAcZ,QAAd,CAAX;AACH;;AACD,SAAKO,SAAL,CAAeM,OAAf,CAAuBZ,CAAC,GAAGF,IAAI,CAACC,QAAD,EAAWC,CAAX,CAAP,GAAuBD,QAA/C,IAA2D,CAA3D;AACH;;AACDc,EAAAA,KAAK,GAAG;AACJ,QAAI,KAAKR,KAAL,KAAe,IAAnB,EAAyB;AACrB,WAAKA,KAAL,GAAaS,WAAW,CAAC,MAAM,KAAKR,SAAL,CAAeS,OAAf,CAAwBC,EAAD,IAAQ;AAC1D,YAAIA,EAAJ,EACIA,EAAE;AACT,OAH8B,CAAP,EAGpB,EAHoB,CAAxB;AAIH;AACJ;;AACDC,EAAAA,IAAI,GAAG;AACH,QAAI,KAAKZ,KAAL,KAAe,IAAnB,EAAyB;AACrBa,MAAAA,aAAa,CAAC,KAAKb,KAAN,CAAb;AACA,WAAKA,KAAL,GAAa,IAAb;AACH;AACJ;;AA5BuB","sourcesContent":["function wrap(callback, n) {\n    let t = 0;\n    return () => {\n        if (t++ >= n) {\n            t = 0;\n            callback();\n        }\n    };\n}\nexport default class Ticker {\n    constructor(app) {\n        this.app = app;\n        this.timer = null;\n        this.callbacks = [];\n    }\n    attach(callback, n = 0, useSafe = true, thisArg) {\n        if (thisArg) {\n            callback = callback.bind(thisArg);\n        }\n        if (useSafe) {\n            callback = this.app.safe(callback);\n        }\n        this.callbacks.unshift(n ? wrap(callback, n) : callback) - 1;\n    }\n    start() {\n        if (this.timer === null) {\n            this.timer = setInterval(() => this.callbacks.forEach((cb) => {\n                if (cb)\n                    cb();\n            }), 30);\n        }\n    }\n    stop() {\n        if (this.timer !== null) {\n            clearInterval(this.timer);\n            this.timer = null;\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}