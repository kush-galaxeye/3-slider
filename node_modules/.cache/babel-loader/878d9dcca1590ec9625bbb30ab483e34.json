{"ast":null,"code":"/*! RemusJS v0.1 by Liudas Dzisevicius (https://github.com/specro) */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Remus = factory();\n  }\n})(this, function () {\n  function Remus() {\n    var defaults = {\n      element: '.remus',\n      height: null\n    };\n\n    if (arguments[0] && typeof arguments[0] === \"object\") {\n      this.options = merge(defaults, arguments[0]);\n    } else {\n      this.options = defaults;\n    }\n\n    this.remus = document.querySelector(this.options.element);\n    this.elements = Array.prototype.slice.call(this.remus.children);\n    this.handles = [];\n    this.activeHandle = null;\n    this.width = null;\n    window.onload = onWindowLoaded.bind(this);\n    window.onresize = this.refresh.bind(this);\n  }\n\n  Remus.prototype.refresh = function () {\n    this.width = this.remus.clientWidth;\n    this.elements[this.elements.length - 1].style.width = this.width / this.elements.length * this.elements.length + 'px';\n    this.elements[this.elements.length - 1].children[0].style.width = this.width + 'px';\n\n    if (this.options.height) {\n      this.elements[this.elements.length - 1].children[0].style.top = -this.elements[this.elements.length - 1].children[0].clientHeight / 2 + this.options.height / 2 + 'px';\n    }\n\n    for (var i = 0; i < this.elements.length - 1; i++) {\n      if (this.options.height) {\n        this.elements[i].children[0].style.top = -this.elements[i].children[0].clientHeight / 2 + this.options.height / 2 + 'px';\n      }\n\n      this.elements[i].style.width = this.width / this.elements.length * (i + 1) + 'px';\n      this.elements[i].children[0].style.width = this.width + 'px';\n      this.handles[i].style.left = this.width / this.elements.length * (i + 1) - this.handles[i].clientWidth / 2 + 'px';\n    }\n  };\n\n  function onWindowLoaded() {\n    this.width = this.remus.clientWidth; // set height if not null\n    // align items depending on height\n\n    if (this.options.height) {\n      this.remus.style.height = this.options.height + 'px';\n\n      for (var i = 0; i < this.elements.length; i++) {\n        this.elements[i].children[0].style.top = -this.elements[i].children[0].clientHeight / 2 + this.options.height / 2 + 'px';\n      }\n    }\n\n    createHandles.call(this);\n    registerDocumentListeners.call(this);\n  }\n\n  function createHandles() {\n    var placeholder = document.createElement('div');\n    this.elements[0].style.zIndex = this.elements.length - 1 + 100;\n    this.elements[this.elements.length - 1].children[0].style.width = this.width + 'px';\n\n    for (var i = 0; i < this.elements.length - 1; i++) {\n      placeholder.innerHTML = '<div class=\"remus-handle handle-' + i + '\"></div>';\n      this.handles[i] = placeholder.firstChild;\n      this.remus.appendChild(placeholder.firstChild); // set z-indexes and initial view area and position\n\n      this.elements[i + 1].style.zIndex = this.elements.length - (2 * i + 3) + 100;\n      this.elements[i].style.width = this.width / this.elements.length * (i + 1) + 'px';\n      this.elements[i].children[0].style.width = this.width + 'px';\n      this.handles[i].style.zIndex = this.elements.length - 2 * i + 100;\n      this.handles[i].style.left = this.width / this.elements.length * (i + 1) - this.handles[i].clientWidth / 2 + 'px';\n      this.handles[i].element = this.elements[i];\n      registerHandleListener.call(this, i);\n    }\n  }\n\n  function registerHandleListener(id) {\n    var handle = this.handles[id];\n    handle.addEventListener('mousedown', function (e) {\n      handle.offset = e.pageX - handle.offsetLeft;\n      this.activeHandle = handle;\n    }.bind(this));\n    handle.addEventListener('touchstart', function (e) {\n      e = e.targetTouches[0];\n      handle.offset = e.pageX - handle.offsetLeft;\n      this.activeHandle = handle;\n    }.bind(this));\n  }\n\n  function registerDocumentListeners() {\n    document.addEventListener('mousemove', changeViewArea.bind(this));\n    document.addEventListener('mouseup', function (e) {\n      this.activeHandle = null;\n    }.bind(this)); // touch listeners\n\n    document.addEventListener('touchmove', changeViewArea.bind(this));\n    document.addEventListener('touchend', function (e) {\n      this.activeHandle = null;\n    }.bind(this));\n  }\n\n  function changeViewArea(e) {\n    if (e.changedTouches) {\n      e = e.changedTouches[0];\n    }\n\n    if (this.activeHandle) {\n      var handle = this.activeHandle;\n      var handlePosition = Math.min(Math.max(e.clientX - handle.offset, 0 - handle.clientWidth / 2), this.width - handle.clientWidth / 2);\n      var elementPosition = handlePosition + handle.clientWidth / 2;\n      handle.style.left = handlePosition + 'px';\n      handle.element.style.width = elementPosition + 'px';\n    }\n  }\n\n  function merge(source, properties) {\n    var property;\n\n    for (property in properties) {\n      if (properties.hasOwnProperty(property)) {\n        source[property] = properties[property];\n      }\n    }\n\n    return source;\n  }\n\n  return Remus;\n});","map":{"version":3,"sources":["/Users/kushthakker/Downloads/imagecompare-both/node_modules/remusjs/src/remus.js"],"names":["root","factory","define","amd","exports","module","Remus","defaults","element","height","arguments","options","merge","remus","document","querySelector","elements","Array","prototype","slice","call","children","handles","activeHandle","width","window","onload","onWindowLoaded","bind","onresize","refresh","clientWidth","length","style","top","clientHeight","i","left","createHandles","registerDocumentListeners","placeholder","createElement","zIndex","innerHTML","firstChild","appendChild","registerHandleListener","id","handle","addEventListener","e","offset","pageX","offsetLeft","targetTouches","changeViewArea","changedTouches","handlePosition","Math","min","max","clientX","elementPosition","source","properties","property","hasOwnProperty"],"mappings":"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","sourcesContent":["/*! RemusJS v0.1 by Liudas Dzisevicius (https://github.com/specro) */\r\n(function (root, factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t  define([], factory);\r\n\t} else if (typeof exports === 'object') {\r\n\t  module.exports = factory();\r\n\t} else {\r\n\t  root.Remus = factory();\r\n\t}\r\n}(this, function () {\r\n  function Remus() {\r\n\r\n\t\tvar defaults = {\r\n\t\t\telement: '.remus',\r\n\t\t\theight: null\r\n\t\t};\r\n\r\n\t\tif (arguments[0] && typeof arguments[0] === \"object\") {\r\n      this.options = merge(defaults, arguments[0]);\r\n    } else {\r\n\t\t\tthis.options = defaults;\r\n\t\t}\r\n\r\n\t\tthis.remus = document.querySelector(this.options.element);\r\n\t\tthis.elements = Array.prototype.slice.call(this.remus.children);\r\n\t\tthis.handles = [];\r\n\t\tthis.activeHandle = null;\r\n\t\tthis.width = null;\r\n\r\n\t\twindow.onload = onWindowLoaded.bind(this);\r\n\t\twindow.onresize = this.refresh.bind(this);\r\n\t}\r\n\r\n\tRemus.prototype.refresh = function () {\r\n\t\tthis.width = this.remus.clientWidth;\r\n\t\tthis.elements[this.elements.length - 1].style.width = (this.width / this.elements.length) * (this.elements.length) + 'px';\r\n\t\tthis.elements[this.elements.length - 1].children[0].style.width = this.width + 'px';\r\n\t\tif (this.options.height) {\r\n\t\t\tthis.elements[this.elements.length - 1].children[0].style.top = -this.elements[this.elements.length - 1].children[0].clientHeight/2 + this.options.height/2 + 'px';\r\n\t\t}\r\n\t\tfor (var i = 0; i < this.elements.length - 1; i++) {\r\n\t\t\tif (this.options.height) {\r\n\t\t\t\tthis.elements[i].children[0].style.top = -this.elements[i].children[0].clientHeight/2 + this.options.height/2 + 'px';\r\n\t\t\t}\r\n\t\t\tthis.elements[i].style.width = (this.width / this.elements.length) * (i + 1) + 'px';\r\n\t\t\tthis.elements[i].children[0].style.width = this.width + 'px';\r\n\t\t\tthis.handles[i].style.left = (this.width / this.elements.length) * (i + 1) - this.handles[i].clientWidth/2 + 'px';\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onWindowLoaded() {\r\n\t\tthis.width = this.remus.clientWidth;\r\n\r\n\t\t// set height if not null\r\n\t\t// align items depending on height\r\n\t\tif (this.options.height) {\r\n\t\t\tthis.remus.style.height = this.options.height + 'px';\r\n\t\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\t\tthis.elements[i].children[0].style.top = -this.elements[i].children[0].clientHeight/2 + this.options.height/2 + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcreateHandles.call(this);\r\n\t\tregisterDocumentListeners.call(this);\r\n\t}\r\n\r\n\tfunction createHandles() {\r\n\t\tvar placeholder = document.createElement('div');\r\n\t\tthis.elements[0].style.zIndex = this.elements.length - 1 + 100;\r\n\t\tthis.elements[this.elements.length - 1].children[0].style.width = this.width + 'px';\r\n\r\n\t\tfor (var i = 0; i < this.elements.length - 1; i++) {\r\n\t\t\tplaceholder.innerHTML = '<div class=\"remus-handle handle-' + i + '\"></div>';\r\n\t\t\tthis.handles[i] = placeholder.firstChild;\r\n\t\t\tthis.remus.appendChild(placeholder.firstChild);\r\n\r\n\t\t\t// set z-indexes and initial view area and position\r\n\t\t\tthis.elements[i + 1].style.zIndex = this.elements.length - (2 * i + 3) + 100;\r\n\t\t\tthis.elements[i].style.width = (this.width / this.elements.length) * (i + 1) + 'px';\r\n\t\t\tthis.elements[i].children[0].style.width = this.width + 'px';\r\n\t\t\tthis.handles[i].style.zIndex = this.elements.length - 2*i + 100;\r\n\t\t\tthis.handles[i].style.left = (this.width / this.elements.length) * (i + 1) - this.handles[i].clientWidth/2 + 'px';\r\n\t\t\tthis.handles[i].element = this.elements[i];\r\n\r\n\t\t\tregisterHandleListener.call(this, i);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction registerHandleListener(id) {\r\n\t\tvar handle = this.handles[id];\r\n\r\n\t\thandle.addEventListener('mousedown', function (e) {\r\n\t\t\thandle.offset = e.pageX - handle.offsetLeft;\r\n\t\t\tthis.activeHandle = handle;\r\n\t\t}.bind(this));\r\n\r\n\t\thandle.addEventListener('touchstart', function (e) {\r\n\t\t\te = e.targetTouches[0];\r\n\t\t\thandle.offset = e.pageX - handle.offsetLeft;\r\n\t\t\tthis.activeHandle = handle;\r\n\t\t}.bind(this));\r\n\t}\r\n\r\n\tfunction registerDocumentListeners() {\r\n\t\tdocument.addEventListener('mousemove', changeViewArea.bind(this));\r\n\r\n\t\tdocument.addEventListener('mouseup', function (e) {\r\n\t\t\tthis.activeHandle = null;\r\n\t\t}.bind(this));\r\n\r\n\t\t// touch listeners\r\n\t\tdocument.addEventListener('touchmove', changeViewArea.bind(this));\r\n\r\n\t\tdocument.addEventListener('touchend', function (e) {\r\n\t\t\tthis.activeHandle = null;\r\n\t\t}.bind(this));\r\n\t}\r\n\r\n\tfunction changeViewArea(e) {\r\n\t\tif (e.changedTouches) {\r\n\t\t\te = e.changedTouches[0];\r\n\t\t}\r\n\t\tif (this.activeHandle) {\r\n\t\t\tvar handle = this.activeHandle;\r\n\t\t\tvar handlePosition = Math.min(Math.max(e.clientX - handle.offset, 0 -  handle.clientWidth / 2), this.width - handle.clientWidth / 2);\r\n\t\t\tvar elementPosition = handlePosition + handle.clientWidth / 2;\r\n\r\n\t\t\thandle.style.left = handlePosition + 'px';\r\n\t\t\thandle.element.style.width = elementPosition + 'px';\r\n\t\t}\r\n\t}\r\n\r\n\tfunction merge(source, properties) {\r\n    var property;\r\n    for (property in properties) {\r\n      if (properties.hasOwnProperty(property)) {\r\n        source[property] = properties[property];\r\n      }\r\n    }\r\n    return source;\r\n  }\r\n\r\n\treturn Remus;\r\n}));\r\n"]},"metadata":{},"sourceType":"script"}